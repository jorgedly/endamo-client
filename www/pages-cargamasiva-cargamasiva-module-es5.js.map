{"version":3,"sources":["./src/app/pages/cargamasiva/cargamasiva.page.html","./src/app/pages/cargamasiva/cargamasiva-routing.module.ts","./src/app/pages/cargamasiva/cargamasiva.module.ts","./src/app/pages/cargamasiva/cargamasiva.page.scss","./src/app/pages/cargamasiva/cargamasiva.page.ts"],"names":[],"mappings":"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","file":"pages-cargamasiva-cargamasiva-module-es5.js","sourcesContent":["module.exports = \"\\n<ion-content>\\n  <ion-grid class=\\\"content-class\\\" fixed>\\n    <ion-row>\\n      <ion-col>\\n          <h3>Carga de Productos</h3>\\n      </ion-col>\\n    </ion-row>  \\n    <ion-row>\\n      <ion-col>\\n        Seleccionar el archivo\\n      </ion-col>\\n      <ion-col>\\n        <ion-button color=\\\"primary\\\" (click)=\\\"selectFile()\\\" expand=\\\"full\\\" color=\\\"dark\\\">{{returnpath}}</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CargamasivaPage } from './cargamasiva.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CargamasivaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CargamasivaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CargamasivaPageRoutingModule } from './cargamasiva-routing.module';\n\nimport { CargamasivaPage } from './cargamasiva.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CargamasivaPageRoutingModule\n  ],\n  declarations: [CargamasivaPage]\n})\nexport class CargamasivaPageModule {}\n","module.exports = \".content-class {\\n  width: 100%;\\n  height: 100%;\\n  background-color: blue;\\n  background-image: -webkit-gradient(linear, left top, right bottom, from(#032fb4), color-stop(#1fa8a8), to(white));\\n  background-image: linear-gradient(to bottom right, #032fb4, #1fa8a8, white);\\n}\\n\\n.header-class {\\n  width: 100%;\\n  height: 100%;\\n  background-color: blue;\\n}\\n\\nion-item {\\n  background-color: transparent;\\n}\\n\\nion-list {\\n  background-color: transparent;\\n}\\n\\nion-item-divider {\\n  background-color: transparent;\\n}\\n\\nion-col.center {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2dlb3JnZS9Qcm95ZWN0b3MvZW5kYW1vLWNsaWVudC9zcmMvYXBwL3BhZ2VzL2NhcmdhbWFzaXZhL2NhcmdhbWFzaXZhLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY2FyZ2FtYXNpdmEvY2FyZ2FtYXNpdmEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGlIQUFBO0VBQUEsMkVBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7QUNDSjs7QURFQTtFQUNJLDZCQUFBO0FDQ0o7O0FERUE7RUFDSSw2QkFBQTtBQ0NKOztBREVBO0VBQ0ksNkJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYXJnYW1hc2l2YS9jYXJnYW1hc2l2YS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVudC1jbGFzc3tcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tIHJpZ2h0LCByZ2IoMywgNDcsIDE4MCksIHJnYigzMSwgMTY4LCAxNjgpICwgd2hpdGUpOyAgXG59XG5cbi5oZWFkZXItY2xhc3N7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG59XG5cbmlvbi1pdGVte1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5pb24tbGlzdHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuaW9uLWl0ZW0tZGl2aWRlcntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuaW9uLWNvbC5jZW50ZXIge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiAgXG4iLCIuY29udGVudC1jbGFzcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20gcmlnaHQsICMwMzJmYjQsICMxZmE4YTgsIHdoaXRlKTtcbn1cblxuLmhlYWRlci1jbGFzcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG59XG5cbmlvbi1pdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbmlvbi1saXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbmlvbi1pdGVtLWRpdmlkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuaW9uLWNvbC5jZW50ZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\n\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { FilePath } from '@ionic-native/file-path/ngx';\nimport { Papa } from 'ngx-papaparse';\nimport { ServiceService } from 'src/app/services/service.service';\n\n@Component({\n  selector: 'app-cargamasiva',\n  templateUrl: './cargamasiva.page.html',\n  styleUrls: ['./cargamasiva.page.scss'],\n})\nexport class CargamasivaPage implements OnInit {\n  returnpath:string=\"\";\n  csvData:any[]=[];\n  headerRow:any[]=[];\n  constructor(private fileChooser: FileChooser, \n              private filePath:FilePath, \n              private papa:Papa,\n              private service: ServiceService,) { }\n\n  ngOnInit() {\n  }\n\n  selectFile(){\n    this.fileChooser.open()\n      .then(\n        uri => {\n          this.filePath.resolveNativePath(uri).then(\n            (resolvednativepath)=>{\n              this.returnpath = resolvednativepath;\n              let path = resolvednativepath.substring(0, resolvednativepath.lastIndexOf('/'));\n              let file = resolvednativepath.substring(resolvednativepath.lastIndexOf('/')+1, resolvednativepath.length);\n              this.readCsvData(path, file);\n              this.sendData();\n            }\n          )\n        })\n      .catch(e => console.log(e));\n  }\n\n  readCsvData(path,file){\n    file.readAsBinaryString(path, file)\n      .then(content=>{\n        console.log(\"File-Content: \"+ JSON.stringify(content));\n        this.extractData(content)\n      })\n      .catch(err=>{\n        console.log(err);\n        alert(JSON.stringify(err));\n      });\n  }\n\n  extractData(content){\n    let csvData = content || '';\n\n    this.papa.parse(csvData,\n      {\n        complete:parsedData => {\n          this.headerRow=parsedData.data.splice(0,1)[0];\n          this.csvData=parsedData.data;\n        }\n      }\n    )\n\n  }\n\n  sendData(){\n    let name = \"\";\n    let price = 0.0;\n    let amount = 0;\n    this.csvData.forEach(function(value){\n\n      name = value[0];\n      price = value[1];\n      amount = value[2];\n\n      this.service.addProduct(name,price,amount);\n    })\n  }\n\n\n}\n"],"sourceRoot":""}